<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Command Center UMKM - Dashboard</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
    </style>
</head>
<body class="bg-slate-50">

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- KOMPONEN PENGGANTI ICON (Agar jalan tanpa install Lucide) ---
        // Saya ganti dengan Emoji/Symbol Unicode agar ringan & anti-error
        const Icon = ({ symbol, color }) => <span className={`text-xl mr-1 ${color || ''}`}>{symbol}</span>;
        
        const ShoppingCart = () => <Icon symbol="ðŸ›’" />;
        const Calculator = () => <Icon symbol="ðŸ–©" />;
        const BarChart3 = () => <Icon symbol="ðŸ“Š" />;
        const ListChecks = () => <Icon symbol="âœ…" />;
        const Target = () => <Icon symbol="ðŸŽ¯" />;
        
        const App = () => {
            // --- STATE PRICING ---
            const [hpp, setHpp] = useState(10000);
            const [opsCost, setOpsCost] = useState(700); // Plastik + Resi
            const [marginPercent, setMarginPercent] = useState(30);
            const [adminFee, setAdminFee] = useState(6); 
            const [extraFees, setExtraFees] = useState({ gratisOngkir: 4, cashbackExtra: 2, adsBudget: 10 });

            // --- STATE SIMULASI MODAL ---
            const [monthlyModal, setMonthlyModal] = useState(1000000); // 1jt atau 2jt

            // --- STATE IKLAN ---
            const [adSpend, setAdSpend] = useState(150000); // Pengeluaran iklan per minggu
            const [adRevenue, setAdRevenue] = useState(600000); // Omzet dari iklan

            // --- PERHITUNGAN HARGA ---
            const totalProductionCost = hpp + opsCost;
            const totalFeesPercent = adminFee + extraFees.gratisOngkir + extraFees.cashbackExtra + extraFees.adsBudget;
            
            // Formula: Price = Total Modal / (1 - Total Fees %)
            const recommendedPrice = Math.ceil(totalProductionCost / (1 - (marginPercent + totalFeesPercent) / 100));
            
            const adminValue = (recommendedPrice * adminFee) / 100;
            const programValue = (recommendedPrice * (extraFees.gratisOngkir + extraFees.cashbackExtra)) / 100;
            const adsValue = (recommendedPrice * extraFees.adsBudget) / 100;
            const netProfitPerPcs = recommendedPrice - totalProductionCost - adminValue - programValue - adsValue;

            // --- PERHITUNGAN TARGET ---
            const totalUnitsInModal = Math.floor(monthlyModal / hpp);
            const totalPotentialProfit = totalUnitsInModal * netProfitPerPcs;
            const dailySalesTarget = Math.ceil(totalUnitsInModal / 30);

            // --- PERHITUNGAN IKLAN ---
            const roas = adRevenue / adSpend || 0;
            const adStatus = roas >= 5 ? "Sehat" : roas >= 3 ? "Evaluasi" : "Boncos";

            return (
                <div className="min-h-screen bg-slate-50 text-slate-900 font-sans p-4 md:p-8">
                {/* Header */}
                <header className="max-w-7xl mx-auto mb-8 flex flex-col md:flex-row md:items-center justify-between gap-4">
                    <div>
                    <h1 className="text-3xl font-black text-orange-600 flex items-center gap-2">
                        <ShoppingCart /> COMMAND CENTER UMKM
                    </h1>
                    <p className="text-slate-500 font-medium">Monitoring Bisnis Legging Anak (Bulan 1-4)</p>
                    </div>
                    <div className="flex gap-4">
                    <div className="bg-white p-3 rounded-xl shadow-sm border border-slate-200 text-center min-w-[120px]">
                        <p className="text-[10px] text-slate-400 uppercase font-bold">Target Harian</p>
                        <p className="text-xl font-black text-orange-600">{dailySalesTarget} Pcs</p>
                    </div>
                    <div className="bg-slate-900 p-3 rounded-xl shadow-sm text-center min-w-[120px]">
                        <p className="text-[10px] text-slate-400 uppercase font-bold">Potensi Profit</p>
                        <p className="text-xl font-black text-green-400">Rp {Math.floor(totalPotentialProfit/1000)}k</p>
                    </div>
                    </div>
                </header>

                <main className="max-w-7xl mx-auto grid grid-cols-1 lg:grid-cols-12 gap-6">
                    
                    {/* KOLOM KIRI: KALKULATOR UTAMA */}
                    <div className="lg:col-span-8 space-y-6">
                    
                    <section className="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                        <div className="flex items-center justify-between mb-6 border-b pb-4">
                        <div className="flex items-center gap-2">
                            <Calculator />
                            <h2 className="text-xl font-bold font-display">Kalkulator Harga & Profit Bersih</h2>
                        </div>
                        <div className="flex items-center gap-2 px-3 py-1 bg-orange-100 rounded-full">
                            <span className="text-orange-700 text-xs font-bold">Simulasi Modal:</span>
                            <select 
                            value={monthlyModal} 
                            onChange={(e) => setMonthlyModal(Number(e.target.value))}
                            className="bg-transparent text-xs font-black text-orange-800 outline-none cursor-pointer"
                            >
                            <option value={1000000}>Rp 1.000.000 (Bln 1)</option>
                            <option value={2000000}>Rp 2.000.000 (Bln 2)</option>
                            <option value={5000000}>Rp 5.000.000 (Scale-up)</option>
                            </select>
                        </div>
                        </div>

                        <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                        {/* Input Group */}
                        <div className="space-y-5">
                            <div className="grid grid-cols-2 gap-4">
                            <div className="col-span-2">
                                <label className="text-[10px] font-black text-slate-400 uppercase block mb-1">Harga Beli Barang (HPP)</label>
                                <div className="relative">
                                <span className="absolute left-3 top-2 text-slate-400 font-bold">Rp</span>
                                <input type="number" value={hpp} onChange={(e) => setHpp(Number(e.target.value))} className="w-full pl-10 pr-4 py-2 bg-slate-50 border rounded-lg font-bold outline-orange-500 transition-all" />
                                </div>
                            </div>
                            <div>
                                <label className="text-[10px] font-black text-slate-400 uppercase block mb-1">Plastik & Pack</label>
                                <input type="number" value={opsCost} onChange={(e) => setOpsCost(Number(e.target.value))} className="w-full p-2 bg-slate-50 border rounded-lg text-sm outline-orange-500" />
                            </div>
                            <div>
                                <label className="text-[10px] font-black text-slate-400 uppercase block mb-1">Target Margin %</label>
                                <input type="number" value={marginPercent} onChange={(e) => setMarginPercent(Number(e.target.value))} className="w-full p-2 bg-slate-50 border rounded-lg text-sm font-bold text-orange-600 outline-orange-500" />
                            </div>
                            </div>

                            <div className="p-4 bg-slate-50 rounded-2xl border border-slate-100 space-y-3">
                            <p className="text-[10px] font-black text-slate-400 uppercase">Potongan Biaya Shopee</p>
                            <div className="flex justify-between items-center text-xs">
                                <span className="font-medium text-slate-600">Status Seller (Star/Star+)</span>
                                <select value={adminFee} onChange={(e) => setAdminFee(Number(e.target.value))} className="bg-white border rounded px-2 py-1 outline-none">
                                <option value={4}>Non-Star (4%)</option>
                                <option value={6}>Star (6%)</option>
                                <option value={7.5}>Star+ (7.5%)</option>
                                </select>
                            </div>
                            <div className="flex justify-between items-center text-xs">
                                <span className="font-medium text-slate-600 italic">Gratis Ongkir Extra (4%)</span>
                                <input type="checkbox" checked={extraFees.gratisOngkir > 0} onChange={(e) => setExtraFees({...extraFees, gratisOngkir: e.target.checked ? 4 : 0})} className="accent-orange-500 h-4 w-4" />
                            </div>
                            <div className="flex justify-between items-center text-xs">
                                <span className="font-medium text-slate-600 italic">Budget Iklan (Set 10%)</span>
                                <input type="number" value={extraFees.adsBudget} onChange={(e) => setExtraFees({...extraFees, adsBudget: Number(e.target.value)})} className="w-12 text-center border rounded" />
                            </div>
                            </div>
                        </div>

                        {/* Display Group */}
                        <div className="bg-gradient-to-br from-slate-800 to-slate-950 text-white p-6 rounded-3xl relative overflow-hidden">
                            <div className="relative z-10">
                            <p className="text-slate-400 text-[10px] font-black uppercase tracking-widest mb-1">Harga Jual Aman</p>
                            <h3 className="text-4xl font-black text-white mb-6">Rp {recommendedPrice.toLocaleString('id-ID')}</h3>
                            
                            <div className="space-y-3 text-sm">
                                <div className="flex justify-between border-b border-white/10 pb-2">
                                <span className="text-slate-400">Profit Bersih / Pcs</span>
                                <span className="text-green-400 font-bold">Rp {Math.floor(netProfitPerPcs).toLocaleString('id-ID')}</span>
                                </div>
                                <div className="flex justify-between border-b border-white/10 pb-2">
                                <span className="text-slate-400 text-xs italic">Kapasitas Stok (Bln Ini)</span>
                                <span className="text-slate-200 font-bold">{totalUnitsInModal} Pcs</span>
                                </div>
                                <div className="flex justify-between pt-2">
                                <span className="text-orange-400 font-bold">Total Profit Bulanan</span>
                                <span className="text-orange-400 font-black text-lg">Rp {Math.floor(totalPotentialProfit).toLocaleString('id-ID')}</span>
                                </div>
                            </div>
                            </div>
                            {/* Visual Accent */}
                            <div className="absolute -bottom-10 -right-10 w-32 h-32 bg-orange-500/20 rounded-full blur-3xl"></div>
                        </div>
                        </div>
                    </section>

                    {/* IKLAN TRACKER SECTION */}
                    <section className="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                        <div className="flex items-center gap-2 mb-6 uppercase tracking-wider font-black text-slate-500 text-xs">
                        <BarChart3 /> Evaluasi Iklan Shopee (Ads ROI)
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-3 gap-6 items-center">
                        <div>
                            <label className="text-[10px] font-black text-slate-400 uppercase block mb-1">Biaya Iklan Dibayar</label>
                            <input type="number" value={adSpend} onChange={(e) => setAdSpend(Number(e.target.value))} className="w-full p-2 bg-slate-50 border rounded-lg font-bold outline-blue-500" />
                        </div>
                        <div>
                            <label className="text-[10px] font-black text-slate-400 uppercase block mb-1">Omzet Dari Iklan</label>
                            <input type="number" value={adRevenue} onChange={(e) => setAdRevenue(Number(e.target.value))} className="w-full p-2 bg-slate-50 border rounded-lg font-bold outline-blue-500" />
                        </div>
                        <div className={`p-4 rounded-2xl flex flex-col items-center justify-center border-2 ${adStatus === 'Sehat' ? 'bg-green-50 text-green-700 border-green-200' : adStatus === 'Evaluasi' ? 'bg-yellow-50 text-yellow-700 border-yellow-200' : 'bg-red-50 text-red-700 border-red-200'}`}>
                            <p className="text-[10px] font-black uppercase">Status Iklan</p>
                            <p className="text-2xl font-black">{adStatus}</p>
                            <p className="text-[10px]">ROAS: {roas.toFixed(1)}x</p>
                        </div>
                        </div>
                    </section>
                    </div>

                    {/* KOLOM KANAN: CHECKLIST & TIPS */}
                    <div className="lg:col-span-4 space-y-6">
                    <section className="bg-white p-6 rounded-3xl shadow-sm border border-slate-200">
                        <h2 className="text-lg font-bold mb-6 flex items-center gap-2">
                        <ListChecks /> Rutinitas Harian
                        </h2>
                        <div className="space-y-4">
                        {[
                            { task: "Cek & Balas Chat < 10 Menit", icon: "ðŸ’¬" },
                            { task: "Cek Stok Sisa (Jangan Sampai 0)", icon: "ðŸ“¦" },
                            { task: "Naikkan Produk (Fitur Shopee)", icon: "ðŸš€" },
                            { task: "Cek Komplain/Rating Hari Ini", icon: "â­" },
                            { task: "Packing & Serahkan ke Kurir", icon: "ðŸšš" }
                        ].map((item, i) => (
                            <div key={i} className="flex items-center gap-3 p-3 bg-slate-50 rounded-xl hover:bg-orange-50 transition-colors cursor-pointer group">
                            <span className="text-lg">{item.icon}</span>
                            <span className="text-sm font-medium text-slate-700 group-hover:text-orange-700">{item.task}</span>
                            </div>
                        ))}
                        </div>
                    </section>

                    <section className="bg-orange-600 text-white p-6 rounded-3xl shadow-lg relative overflow-hidden">
                        <h4 className="font-black text-lg mb-2 flex items-center gap-2">
                        <Target /> Tips Biar Closing
                        </h4>
                        <p className="text-xs leading-relaxed opacity-90 italic">
                        "Bunda-bunda di Shopee itu sangat visual. Pastikan Foto Utama Legging menunjukkan tekstur kain yang lembut dan anak yang tersenyum saat memakainya."
                        </p>
                        <div className="mt-4 pt-4 border-t border-white/20">
                        <p className="text-[10px] font-black uppercase tracking-widest opacity-75">Target Bulan Ke-1</p>
                        <div className="flex justify-between items-end mt-1">
                            <span className="text-2xl font-black">10 Review</span>
                            <span className="text-xs bg-white/20 px-2 py-1 rounded">Bintang 5</span>
                        </div>
                        </div>
                    </section>
                    </div>

                </main>

                <footer className="max-w-7xl mx-auto mt-12 pt-6 border-t border-slate-200 flex justify-between items-center text-[10px] font-bold text-slate-400 uppercase tracking-widest">
                    <span>Â© 2026 Strategy Playbook UMKM</span>
                    <span className="text-orange-500">Focus on Profit, Not Just Sales</span>
                </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
